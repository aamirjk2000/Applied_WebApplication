@page
@using System.Data
@using Applied_WebApplication.Data
@model Applied_WebApplication.Pages.Accounts.COAModel
@{
    DataTableClass COA = new DataTableClass(User.Identity.Name, Tables.COA.ToString());
    var UserName = User.Identity.Name;
}

<div class="mt-3 p-2 bg-success text-white rounded">
    <h3>CHART OF ACCOUNTS </h3>
    </div>
    <br />


<form method="post">
    <table class="table table-hover">
        <thead>
            <tr>
                <th>   <a> Code </a> </th>
                <th>    <a>Title   </a> </th>
                <th><button class=btn-primary asp-page="./COA_Add/" asp-route-UserName=@UserName asp-page-handler="Add"> ADD </button> </th>
            </tr>
        </thead>
        <tbody>
            @foreach (DataRow _Record in   @COA.MyDataTable.Rows)
            {
                <tr>
                    <td>  @_Record["Code"] </td>
                    <td>  @_Record["Title"] </td>
                    <td>
                        <a asp-page="./COA_Edit/" asp-route-id=@_Record["ID"] asp-route-UserName=@UserName asp-page-handler="Edit"> Edit</a> |
                        <a asp-page="./COA_Del" asp-route-id=@_Record["ID"]>Delete </a> |
                    </td>
                </tr>
            }
        </tbody>
    </table>
</form>